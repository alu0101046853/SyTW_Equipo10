(function(e){function t(t){for(var n,s,o=t[0],c=t[1],l=t[2],d=0,m=[];d<o.length;d++)s=o[d],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&m.push(r[s][0]),r[s]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);u&&u(t);while(m.length)m.shift()();return i.push.apply(i,l||[]),a()}function a(){for(var e,t=0;t<i.length;t++){for(var a=i[t],n=!0,o=1;o<a.length;o++){var c=a[o];0!==r[c]&&(n=!1)}n&&(i.splice(t--,1),e=s(s.s=a[0]))}return e}var n={},r={app:0},i=[];function s(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=e,s.c=n,s.d=function(e,t,a){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)s.d(a,n,function(t){return e[t]}.bind(null,n));return a},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var u=c;i.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"034f":function(e,t,a){"use strict";a("8b5d")},"0a89":function(e,t,a){},"0bf4":function(e,t,a){},2354:function(e,t,a){},"2e0e":function(e,t,a){},"465a":function(e,t,a){"use strict";a("2e0e")},"50c8":function(e,t,a){"use strict";a("7a01")},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"main-page"},[a("Header"),a("v-app",[a("router-view",{staticClass:"content"}),a("v-footer",{attrs:{padless:""}},[a("v-col",{staticClass:"footer text-center",attrs:{cols:"12"}},[e._v(" "+e._s((new Date).getFullYear())+" — "),a("strong",[e._v("GuachIt")])])],1)],1)],1)},i=[],s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("header",[a("div",{staticClass:"app"},[a("v-app",{attrs:{id:"inspire"}},[a("div",[a("v-app-bar",{attrs:{app:"",fixed:"",color:"purple lighten-3"}},[a("router-link",{staticStyle:{"text-decoration":"none",color:"inherit"},attrs:{to:"/"}},[a("v-toolbar-title",{staticClass:"title"},[a("h1",[e._v("GuachIt")])])],1),a("v-spacer"),e.user?a("v-menu",{attrs:{left:"",bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,r=t.attrs;return[a("v-btn",e._g(e._b({attrs:{icon:""}},"v-btn",r,!1),n),[a("v-icon",[e._v("mdi-account")])],1)]}}],null,!1,1415903684)},[a("v-list",[a("router-link",{attrs:{to:"/user/"+e.user.id}},[a("v-list-item",[a("v-list-item-title",[e._v("Perfil")])],1)],1),a("router-link",{attrs:{to:"/myreservas"}},[a("v-list-item",[a("v-list-item-title",[e._v("Mis Reservas")])],1)],1),"chacho"===e.user.username?a("router-link",{attrs:{to:"/guachincheregister"}},[a("v-list-item",[a("v-list-item-title",[e._v("Crear Guachinche")])],1)],1):e._e(),a("router-link",{attrs:{to:"/login"}},[a("v-list-item",{staticClass:"logout"},[a("v-list-item-title",[e._v("Cerrar sesión")])],1)],1)],1)],1):e._e()],1)],1)])],1),e.alert.message?a("div",{class:"alert "+e.alert.type,attrs:{id:"alert-box"}},[e._v(" "+e._s(e.alert.message)+" ")]):e._e()])},o=[],c={name:"app",computed:{user:function(){return this.$store.state.authentication.user},users:function(){return this.$store.state.users.all},alert:function(){return this.$store.state.alert}}},l=c,u=(a("97e1"),a("0c7c")),d=a("6544"),m=a.n(d),f=a("7496"),h=a("40dc"),v=a("8336"),p=a("132d"),g=a("8860"),b=a("da13"),x=a("5d23"),_=a("e449"),y=a("2fa4"),C=a("2a7f"),k=Object(u["a"])(l,s,o,!1,null,"4df8b693",null),S=k.exports;m()(k,{VApp:f["a"],VAppBar:h["a"],VBtn:v["a"],VIcon:p["a"],VList:g["a"],VListItem:b["a"],VListItemTitle:x["a"],VMenu:_["a"],VSpacer:y["a"],VToolbarTitle:C["a"]});var w={name:"app",components:{Header:S},watch:{$route:function(){this.$store.dispatch("alert/clear")}}},V=w,$=(a("034f"),a("62ad")),A=a("553a"),O=Object(u["a"])(V,r,i,!1,null,null,null),T=O.exports;m()(O,{VApp:f["a"],VCol:$["a"],VFooter:A["a"]});var j=a("2f62"),E={namespaced:!0,state:{type:null,message:null},actions:{success:function(e,t){var a=e.commit;a("success",t)},error:function(e,t){var a=e.commit;a("error",t)},clear:function(e){var t=e.commit;t("clear")}},mutations:{success:function(e,t){e.type="alert-success",e.message=t},error:function(e,t){e.type="alert-danger",e.message=t},clear:function(e){e.type=null,e.message=null}}},F=(a("b0c0"),a("d3b7"),a("caad"),a("8c4f")),R=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("carousel",{staticClass:"carousel"}),a("guachinches",{staticClass:"guachinches"})],1)},I=[],q=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-app",[a("v-carousel",{attrs:{cycle:""}},e._l(e.items,(function(e,t){return a("v-carousel-item",{key:t,attrs:{src:e.src,"reverse-transition":"fade-transition",transition:"fade-transition"}})})),1),a("h3",{staticClass:"descripcion"},[e._v(" En GuachIt queremos que puedas tener acceso a reservas online en todos los guachinches de Tenerife,"),a("br"),e._v(" sin limitaciones e incluso con posibilidad de envíos a domicilio ")])],1)],1)},P=[],G={name:"Carousel",data:function(){return{items:[{src:a("58a4")},{src:a("692c")},{src:a("bb72")},{src:a("756f")}]}}},N=G,D=(a("50c8"),a("5e66")),z=a("3e35"),B=Object(u["a"])(N,q,P,!1,null,"5ed43246",null),U=B.exports;m()(B,{VApp:f["a"],VCarousel:D["a"],VCarouselItem:z["a"]});var J=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-app",[a("v-container",{attrs:{"grid-list-xs":""}},[a("v-col",{attrs:{"offset-md":"4"}},[a("v-switch",{attrs:{color:"lime darken-2",label:"Mostrar solo guachinches con envío a domicilio"},model:{value:e.filtro,callback:function(t){e.filtro=t},expression:"filtro"}})],1)],1),a("v-container",{staticClass:"flex justify-space-between align-start",attrs:{"fill-height":""}},e._l(e.guachinches.items,(function(t){return a("guachinche-card",{directives:[{name:"show",rawName:"v-show",value:!e.filtro||e.filtro&&t.delivery,expression:"!filtro || (filtro && guachinche.delivery)"}],key:t.id,attrs:{data:t}})})),1)],1)],1)},L=[],M=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-card",{staticClass:"mx-auto my-12 pb-4",attrs:{color:"purple lighten-4","max-width":"450","max-height":"840"}},[a("v-img",{attrs:{height:"250",src:e.data.image}}),a("v-card-title",[e._v(e._s(e.data.name))]),a("v-card-text",[a("div",{staticClass:"my-4 text-subtitle-1"},[e._v(" "+e._s(e.data.location)+" ")]),a("div",[e._v(e._s(e.data.description))])]),a("v-card-text",{staticClass:"ml-16"},[a("v-icon",{staticClass:"ml-16",attrs:{color:"deep-purple lighten-1"}},[e._v("mdi-phone")]),e._v(" "+e._s(e.data.phone)+" ")],1),a("v-divider",{staticClass:"mx-4"}),a("v-card-title",[e._v("Horarios")]),a("v-card-text",[a("v-chip-group",{attrs:{column:""},model:{value:e.selection,callback:function(t){e.selection=t},expression:"selection"}},[a("v-chip",{staticClass:"flex",attrs:{color:"deep-purple lighten-2"}},[e._v(e._s(e.data.hour))])],1)],1),a("div",{class:"chacho"===e.user.username?"opciones":"single"},[a("reserva-form",{attrs:{data:e.data}}),"chacho"===e.user.username?a("v-btn",{attrs:{dark:"",color:"error"},on:{click:e.handleDelete}},[a("v-icon",[e._v(" mdi-delete ")]),e._v(" Borrar Guachinche ")],1):e._e()],1)],1)],1)},H=[],Y=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-row",[a("v-dialog",{attrs:{persistent:"","max-width":"600px"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,r=t.attrs;return[a("v-btn",e._g(e._b({attrs:{color:"primary",dark:""}},"v-btn",r,!1),n),[e._v(" Reservar ")])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"text-h5"},[e._v("Reserva en "+e._s(e.data.name))])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"Nombre de la reserva"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"Número de comensales"},model:{value:e.comensales,callback:function(t){e.comensales=e._n(t)},expression:"comensales"}})],1),a("v-col",{attrs:{cols:"6"}},[a("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,r=t.attrs;return[a("v-text-field",e._g(e._b({attrs:{label:"Fecha","prepend-icon":"mdi-calendar",readonly:""},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}},"v-text-field",r,!1),n))]}}]),model:{value:e.menu,callback:function(t){e.menu=t},expression:"menu"}},[a("v-date-picker",{attrs:{"active-picker":e.activePicker,min:(new Date).toISOString().substr(0,10)},on:{"update:activePicker":function(t){e.activePicker=t},"update:active-picker":function(t){e.activePicker=t}},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}})],1)],1),a("v-col",{attrs:{cols:"6"}},[a("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,"nudge-right":40,"return-value":e.time,transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"290px"},on:{"update:returnValue":function(t){e.time=t},"update:return-value":function(t){e.time=t}},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,r=t.attrs;return[a("v-text-field",e._g(e._b({attrs:{label:"Hora","prepend-icon":"mdi-clock-time-four-outline",readonly:""},model:{value:e.time,callback:function(t){e.time=t},expression:"time"}},"v-text-field",r,!1),n))]}}]),model:{value:e.menu2,callback:function(t){e.menu2=t},expression:"menu2"}},[e.menu2?a("v-time-picker",{attrs:{"full-width":"",format:"24hr"},on:{"click:minute":function(t){return e.$refs.menu.save(e.time)}},model:{value:e.time,callback:function(t){e.time=t},expression:"time"}}):e._e()],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){e.dialog=!1}}},[e._v(" Cancelar ")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.handleReserva}},[e._v(" Reservar ")])],1)],1)],1)],1)},K=[],Q={name:"ReservaForm",props:{data:{name:String,hour:String,delivery:Boolean,id:String}},data:function(){return{name:null,time:null,menu2:!1,modal2:!1,activePicker:null,date:null,menu:!1,dialog:!1,loading:!1,valid:!0,submitted:!1,comensales:null,rules:{email:function(e){return/.+@.+\..+/.test(e)||"E-mail must be valid"}}}},methods:{handleReserva:function(){this.dialog=!1;var e=this.$store.state.authentication.user.id,t=this.data.id,a=this.time,n=this.date,r=this.comensales,i=this.name,s=this.$store.dispatch;s("reservas/create",{time:a,date:n,comensales:r,name:i,id_usuario:e,id_guachinche:t})}}},W=Q,X=a("b0af"),Z=a("99d9"),ee=a("a523"),te=a("2e4b"),ae=a("169a"),ne=a("0fd9"),re=a("8654"),ie=a("c964"),se=Object(u["a"])(W,Y,K,!1,null,"8be5f290",null),oe=se.exports;m()(se,{VBtn:v["a"],VCard:X["a"],VCardActions:Z["a"],VCardText:Z["b"],VCardTitle:Z["c"],VCol:$["a"],VContainer:ee["a"],VDatePicker:te["a"],VDialog:ae["a"],VMenu:_["a"],VRow:ne["a"],VSpacer:y["a"],VTextField:re["a"],VTimePicker:ie["a"]});var ce={components:{ReservaForm:oe},name:"GuachincheCard",props:{data:{name:String,location:String,description:String,hour:String,phone:String,delivery:Boolean,image:String,id:String}},data:function(){return{selection:"",loading:""}},methods:{handleDelete:function(){var e=this.data.id,t=this.$store.dispatch;t("guachinches/_delete",{id:e})}},computed:{user:function(){return this.$store.state.authentication.user}}},le=ce,ue=(a("5ffc"),a("cc20")),de=a("ef9a"),me=a("ce7e"),fe=a("adda"),he=Object(u["a"])(le,M,H,!1,null,"e69971cc",null),ve=he.exports;m()(he,{VBtn:v["a"],VCard:X["a"],VCardText:Z["b"],VCardTitle:Z["c"],VChip:ue["a"],VChipGroup:de["a"],VDivider:me["a"],VIcon:p["a"],VImg:fe["a"]});var pe={components:{GuachincheCard:ve},name:"Guachinches",data:function(){return{filtro:!1}},computed:{guachinches:function(){return this.$store.state.guachinches.all}}},ge=pe,be=a("b73d"),xe=Object(u["a"])(ge,J,L,!1,null,"76138fb3",null),_e=xe.exports;m()(xe,{VApp:f["a"],VCol:$["a"],VContainer:ee["a"],VSwitch:be["a"]});var ye={name:"Home",components:{Carousel:U,Guachinches:_e},computed:{user:function(){return this.$store.state.authentication.user},guachinches:function(){return this.$store.state.guachinches.all}},created:function(){this.$store.dispatch("guachinches/getAll")}},Ce=ye,ke=Object(u["a"])(Ce,R,I,!1,null,"500e66af",null),Se=ke.exports,we=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{staticClass:"flex justify-center align-center"},[a("login-form")],1)},Ve=[],$e=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"login-page"},[a("v-app",[a("v-form",{ref:"form",staticClass:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-container",[a("v-row",[a("v-col",[a("v-text-field",{attrs:{name:"username",label:"Usuario",required:""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleSubmit.apply(null,arguments)}},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}}),a("v-text-field",{attrs:{"append-icon":e.show1?"mdi-eye":"mdi-eye-off",type:e.show1?"text":"password",name:"password",label:"Contraseña",required:""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleSubmit.apply(null,arguments)},"click:append":function(t){e.show1=!e.show1}},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1)],1)],1),a("v-container",{staticClass:"flex justify-space-evenly align-center"},[a("div",{staticClass:"submit-area"},[a("div",{staticClass:"buttons"},[a("v-btn",{staticClass:"mr-3",attrs:{disabled:!e.valid,color:"success"},on:{click:e.handleSubmit}},[e._v(" Iniciar sesión ")]),a("v-btn",{staticClass:"mr-3",attrs:{color:"error"},on:{click:e.reset}},[e._v(" Resetear Formulario ")])],1),a("router-link",{staticClass:"link mt-3",attrs:{to:"/signup"}},[a("v-btn",{attrs:{rounded:"",dark:""}},[e._v(" ¿No tiene Cuenta?, Registrese Aquí ")])],1)],1)])],1)],1)],1)},Ae=[],Oe={name:"LoginForm",data:function(){return{show1:"",valid:!0,username:"",password:"",submitted:!1,rules:{email:function(e){return/.+@.+\..+/.test(e)||"E-mail must be valid"}}}},computed:{loggingIn:function(){return this.$store.state.authentication.status.loggingIn}},created:function(){this.$store.dispatch("authentication/logout")},methods:{handleSubmit:function(){this.submitted=!0;var e=this.username,t=this.password,a=this.$store.dispatch;e&&t&&a("authentication/login",{username:e,password:t})},validate:function(){this.$refs.form.validate()},reset:function(){this.$refs.form.reset()}}},Te=Oe,je=(a("e6d9"),a("4bd4")),Ee=Object(u["a"])(Te,$e,Ae,!1,null,"11b487b6",null),Fe=Ee.exports;m()(Ee,{VApp:f["a"],VBtn:v["a"],VCol:$["a"],VContainer:ee["a"],VForm:je["a"],VRow:ne["a"],VTextField:re["a"]});var Re={name:"SignUp",components:{LoginForm:Fe}},Ie=Re,qe=Object(u["a"])(Ie,we,Ve,!1,null,"9da87892",null),Pe=qe.exports;m()(qe,{VContainer:ee["a"]});var Ge=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{staticClass:"container"},[a("register-form")],1)},Ne=[],De=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"register"},[a("v-app",[a("v-form",{ref:"form",staticClass:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("div",{staticClass:"circle-and-text-container"},[a("div",{staticClass:"circle"},[a("v-icon",{attrs:{"x-large":"",color:"white"}},[e._v("mdi-account-outline")])],1),a("router-link",{staticClass:"link",attrs:{to:"/login"}},[e._v("¿Ya tienes una cuenta?")])],1),a("div",{staticClass:"input-container"},[a("v-text-field",{staticClass:"form-item ma-0 pa-1",attrs:{name:"username",label:"Usuario",required:""},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}}),a("v-text-field",{staticClass:"form-item ma-0 pa-1",attrs:{name:"name",label:"Nombre"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),a("v-text-field",{staticClass:"form-item ma-0 pa-1",attrs:{rules:[e.rules.email],label:"E-mail",name:"email"},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),a("v-text-field",{staticClass:"form-item ma-0 pa-1",attrs:{"append-icon":e.show1?"mdi-eye":"mdi-eye-off",type:e.show1?"text":"password",name:"password",label:"Contraseña",required:""},on:{"click:append":function(t){e.show1=!e.show1}},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),a("div",{staticClass:"button-container"},[a("v-btn",{staticClass:"sign-button",attrs:{disabled:!e.valid,color:"success"},on:{click:e.handleSubmit}},[e._v(" Registrarme ")]),a("v-btn",{staticClass:"sign-button",attrs:{color:"error"},on:{click:e.reset}},[e._v(" Resetear Formulario ")])],1)],1)])],1)],1)},ze=[],Be={name:"RegisterForm",data:function(){return{show1:"",valid:!0,username:"",name:"",email:"",password:"",submitted:!1,rules:{email:function(e){return/.+@.+\..+/.test(e)||"E-mail must be valid"}}}},computed:{loggingIn:function(){return this.$store.state.authentication.status.loggingIn}},created:function(){this.$store.dispatch("authentication/logout")},methods:{handleSubmit:function(){this.submitted=!0;var e=this.username,t=this.password,a=this.name,n=this.email,r=this.$store.dispatch;e&&t&&r("authentication/signup",{username:e,password:t,name:a,email:n})},validate:function(){this.$refs.form.validate()},reset:function(){this.$refs.form.reset()},resetValidation:function(){this.$refs.form.resetValidation()}}},Ue=Be,Je=(a("6d08"),Object(u["a"])(Ue,De,ze,!1,null,"17071c46",null)),Le=Je.exports;m()(Je,{VApp:f["a"],VBtn:v["a"],VForm:je["a"],VIcon:p["a"],VTextField:re["a"]});var Me={name:"SignUp",components:{RegisterForm:Le}},He=Me,Ye=(a("465a"),Object(u["a"])(He,Ge,Ne,!1,null,"45664014",null)),Ke=Ye.exports;m()(Ye,{VContainer:ee["a"]});var Qe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"guachinche-view"},[a("create-form")],1)},We=[],Xe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"creation"},[a("v-app",[a("v-form",{ref:"form",staticClass:"form",attrs:{"lazy-validation":""}},[a("v-text-field",{attrs:{name:"name",label:"Nombre",required:""},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),a("v-text-field",{attrs:{label:"Localización",name:"location",required:""},model:{value:e.location,callback:function(t){e.location=t},expression:"location"}}),a("v-textarea",{attrs:{label:"Descripción del Guachinche",name:"description",required:""},model:{value:e.description,callback:function(t){e.description=t},expression:"description"}}),a("v-textarea",{attrs:{label:"Horario",name:"hour",required:""},model:{value:e.hour,callback:function(t){e.hour=t},expression:"hour"}}),a("v-text-field",{attrs:{label:"Teléfono de Contacto",name:"phone",required:""},model:{value:e.phone,callback:function(t){e.phone=t},expression:"phone"}}),a("v-switch",{attrs:{label:"Envío a domicilio",name:"delivery",required:""},model:{value:e.delivery,callback:function(t){e.delivery=t},expression:"delivery"}}),a("v-text-field",{attrs:{label:"Introduzca la URL de la imagen de su guachinche",name:"image",required:""},model:{value:e.image,callback:function(t){e.image=t},expression:"image"}}),a("div",{staticClass:"buttons"},[a("v-btn",{staticClass:"mr-4",attrs:{color:"success"},on:{click:e.handleSubmit}},[e._v(" Crear ")]),a("v-btn",{staticClass:"mr-4",attrs:{color:"error"},on:{click:e.reset}},[e._v(" Resetear ")])],1)],1)],1)],1)},Ze=[],et=(a("a4d3"),a("e01a"),{name:"CreateForm",data:function(){return{name:"",location:"",description:"",hour:"",phone:"",image:"",delivery:!1,submitted:!1}},methods:{handleSubmit:function(){this.submitted=!0;var e=this.name,t=this.location,a=this.hour,n=this.phone,r=this.delivery,i=this.image,s=this.description,o=this.$store.dispatch;e&&t&&o("guachinches/create",{name:e,location:t,hour:a,phone:n,delivery:r,image:i,description:s})},reset:function(){this.$refs.form.reset()}}}),tt=et,at=(a("e9d2"),a("a844")),nt=Object(u["a"])(tt,Xe,Ze,!1,null,null,null),rt=nt.exports;m()(nt,{VApp:f["a"],VBtn:v["a"],VForm:je["a"],VSwitch:be["a"],VTextField:re["a"],VTextarea:at["a"]});var it={name:"GuachincheRegister",components:{CreateForm:rt}},st=it,ot=Object(u["a"])(st,Qe,We,!1,null,"084033ec",null),ct=ot.exports,lt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{staticClass:"flex justify-center align-items-center"},[a("user-form")],1)},ut=[],dt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form-div"},[a("v-app",[a("v-form",{ref:"form",staticClass:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-row",[a("v-col",[a("v-text-field",{attrs:{name:"username",label:"Usuario",required:""},model:{value:e.user.username,callback:function(t){e.$set(e.user,"username",t)},expression:"user.username"}}),a("v-text-field",{attrs:{name:"name",label:"Nombre"},model:{value:e.user.name,callback:function(t){e.$set(e.user,"name",t)},expression:"user.name"}}),a("v-text-field",{attrs:{rules:[e.rules.email],label:"E-mail",name:"email"},model:{value:e.user.email,callback:function(t){e.$set(e.user,"email",t)},expression:"user.email"}}),a("div",{staticClass:"buttons"},[a("v-btn",{attrs:{disabled:!e.valid,color:"success"},on:{click:e.handleSubmit}},[e._v(" Actualizar ")]),a("v-btn",{attrs:{color:"error"},on:{click:function(t){e.showdelete=!e.showdelete}}},[e._v(" Borrar Usuario ")])],1),e.showdelete?a("div",{staticClass:"popup text-center"},[a("v-sheet",{staticClass:"px-7 pt-7 pb-4 mx-auto text-center d-inline-block",attrs:{color:"blue-grey darken-3",dark:""}},[a("div",{staticClass:"grey--text text--lighten-1 text-body-2 mb-4"},[e._v(" ¿Estas seguro de que quieres borrar este usuario? ")]),a("v-btn",{staticClass:"ma-1",attrs:{disabled:e.loading,color:"grey",plain:""},on:{click:function(t){e.showdelete=!1}}},[e._v(" Cancelar ")]),a("v-btn",{staticClass:"ma-1",attrs:{loading:e.loading,color:"error",plain:""},on:{click:e.handleDelete}},[e._v(" Borrar ")])],1)],1):e._e()],1)],1)],1)],1)],1)},mt=[],ft={name:"UserForm",data:function(){return{loading:!1,valid:!0,submitted:!1,showdelete:!1,rules:{email:function(e){return/.+@.+\..+/.test(e)||"E-mail must be valid"}}}},computed:{user:function(){return this.$store.state.authentication.user}},methods:{handleSubmit:function(){this.submitted=!0;var e=this.user,t=e.username,a=e.name,n=e.email,r=e.id,i=this.$store.dispatch;t&&i("authentication/update",{username:t,name:a,email:n,id:r})},handleDelete:function(){var e=this.user.id,t=this.$store.dispatch;t("authentication/_delete",{id:e})},validate:function(){this.$refs.form.validate()}}},ht=ft,vt=(a("8116"),a("8dd9")),pt=Object(u["a"])(ht,dt,mt,!1,null,"16530fcf",null),gt=pt.exports;m()(pt,{VApp:f["a"],VBtn:v["a"],VCol:$["a"],VForm:je["a"],VRow:ne["a"],VSheet:vt["a"],VTextField:re["a"]});var bt={name:"User",components:{UserForm:gt}},xt=bt,_t=Object(u["a"])(xt,lt,ut,!1,null,"28e10769",null),yt=_t.exports;m()(_t,{VContainer:ee["a"]});var Ct=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"reservas-table"},[a("v-app",[a("v-simple-table",{staticClass:"tablita",scopedSlots:e._u([{key:"default",fn:function(){return[a("thead",[a("tr",[a("th",{staticClass:"text-left"},[e._v("Nombre de la Reserva")]),a("th",{staticClass:"text-left"},[e._v("Guachinche")]),a("th",{staticClass:"text-left"},[e._v("Fecha")]),a("th",{staticClass:"text-left"},[e._v("Hora")]),a("th",{staticClass:"text-left"},[e._v("Comensales")])])]),a("tbody",e._l(e.reservas.items,(function(t){return a("tr",{key:t.id},[a("td",[e._v(e._s(t.name))]),a("td",[e._v(e._s(e.getGuachincheName(t.guachinche)))]),a("td",[e._v(e._s(e.getDate(t.date)))]),a("td",[e._v(e._s(t.time))]),a("td",[e._v(e._s(t.comensales))])])})),0)]},proxy:!0}])})],1)],1)},kt=[],St=(a("7db0"),a("fb6a"),{name:"ReservasPage",methods:{getGuachincheName:function(e){var t=this.guachinches.items.find((function(t){return e===t.id}));return t.name},getDate:function(e){var t=e,a=t.indexOf("T");return t.slice(0,a)}},computed:{guachinches:function(){return this.$store.state.guachinches.all},reservas:function(){return this.$store.state.reservas.all}},created:function(){this.$store.dispatch("guachinches/getAll"),this.$store.dispatch("reservas/getbyid",this.$store.state.authentication.user)}}),wt=St,Vt=(a("66d7"),a("1f4f")),$t=Object(u["a"])(wt,Ct,kt,!1,null,"2f7d86f2",null),At=$t.exports;m()($t,{VApp:f["a"],VSimpleTable:Vt["a"]}),n["a"].use(F["a"]);var Ot=new F["a"]({mode:"history",routes:[{path:"/",component:Se},{path:"/login",component:Pe},{path:"/signup",component:Ke},{path:"/guachincheregister",component:ct},{path:"/myreservas",component:At},{path:"/user/:id",component:yt},{path:"*",redirect:"/"}]});function Tt(){var e=JSON.parse(localStorage.getItem("user"));return e&&e.token?{Authorization:"Bearer "+e.token}:{}}Ot.beforeEach((function(e,t,a){var n=["/login","/signup"],r=!n.includes(e.path),i=localStorage.getItem("user");if(r&&!i)return a("/login");a()}));var jt={login:Et,logout:qt,getAll:Pt,signup:Ft,_delete:It,update:Rt};function Et(e,t){var a={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:t})};return fetch("http://localhost:3000/users/authenticate",a).then(Gt).then((function(e){return e.token&&localStorage.setItem("user",JSON.stringify(e)),e}))}function Ft(e,t,a,n){var r={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:t,name:a,email:n})};return fetch("http://localhost:3000/users/register",r).then(Gt)}function Rt(e,t,a,n){var r=Tt(),i={method:"PUT",headers:{"Content-Type":"application/json",Authorization:r["Authorization"]},body:JSON.stringify({username:e,name:t,email:a})};return fetch("http://localhost:3000/users/".concat(n),i).then(Gt)}function It(e){var t={method:"DELETE",headers:Tt()};return fetch("http://localhost:3000/users/".concat(e),t).then(Gt)}function qt(){localStorage.removeItem("user")}function Pt(){var e={method:"GET",headers:Tt()};return fetch("http://localhost:3000/users",e).then(Gt)}function Gt(e){return e.text().then((function(t){var a=t&&JSON.parse(t);if(!e.ok){401===e.status&&qt();var n=a&&a.message||e.statusText;return Promise.reject(n)}return a}))}var Nt={logout:Ut,getAll:Bt,create:Dt,_delete:zt};function Dt(e,t,a,n,r,i,s){var o=Tt(),c={method:"POST",headers:{"Content-Type":"application/json",Authorization:o["Authorization"]},body:JSON.stringify({name:e,location:t,hour:a,phone:n,delivery:r,image:i,description:s})};return fetch("http://localhost:3000/guachinches/register",c).then(Jt)}function zt(e){var t={method:"DELETE",headers:Tt()};return fetch("http://localhost:3000/guachinches/".concat(e),t).then(Jt)}function Bt(){var e={method:"GET",headers:Tt()};return fetch("http://localhost:3000/guachinches",e).then(Jt)}function Ut(){localStorage.removeItem("user")}function Jt(e){return e.text().then((function(t){var a=t&&JSON.parse(t);if(!e.ok){401===e.status&&Ut();var n=a&&a.message||e.statusText;return Promise.reject(n)}return a}))}var Lt={logout:Qt,getAll:Kt,create:Mt,getAllbyID:Ht,_delete:Yt};function Mt(e,t,a,n,r,i){var s=Tt(),o={method:"POST",headers:{"Content-Type":"application/json",Authorization:s["Authorization"]},body:JSON.stringify({time:e,date:t,comensales:a,name:n,usuario:r,guachinche:i})};return fetch("http://localhost:3000/reservas/create",o).then(Wt)}function Ht(e){var t={method:"GET",headers:Tt()};return fetch("http://localhost:3000/reservas/".concat(e),t).then(Wt)}function Yt(e){var t={method:"DELETE",headers:Tt()};return fetch("http://localhost:3000/reservas/".concat(e),t).then(Wt)}function Kt(){var e={method:"GET",headers:Tt()};return fetch("http://localhost:3000/reservas",e).then(Wt)}function Qt(){localStorage.removeItem("user")}function Wt(e){return e.text().then((function(t){var a=t&&JSON.parse(t);if(!e.ok){401===e.status&&Qt();var n=a&&a.message||e.statusText;return Promise.reject(n)}return a}))}var Xt=JSON.parse(localStorage.getItem("user")),Zt=Xt?{status:{loggedIn:!0},user:Xt}:{status:{},user:null},ea={namespaced:!0,state:Zt,actions:{login:function(e,t){var a=e.dispatch,n=e.commit,r=t.username,i=t.password;n("loginRequest",{username:r}),jt.login(r,i).then((function(e){n("loginSuccess",e),Ot.push("/")}),(function(e){n("loginFailure",e),a("alert/error",e,{root:!0})}))},signup:function(e,t){var a=e.dispatch,n=e.commit,r=t.username,i=t.password,s=t.name,o=t.email;jt.signup(r,i,s,o).then((function(){a("alert/success","Usuario creado con éxito",{root:!0}),setTimeout((function(){Ot.push("/login")}),1250)}),(function(e){n("registerFailure",e),a("alert/error",e,{root:!0})}))},update:function(e,t){var a=e.dispatch,n=t.username,r=t.name,i=t.email,s=t.id;jt.update(n,r,i,s).then((function(){a("alert/success","Usuario actualizado con éxito",{root:!0}),setTimeout((function(){Ot.push("/login")}),1250)}),(function(e){a("alert/error",e,{root:!0})}))},_delete:function(e,t){var a=e.dispatch,n=t.id;jt._delete(n).then((function(){a("alert/success","Usuario borrado con éxito",{root:!0}),setTimeout((function(){Ot.push("/login")}),1250)}),(function(e){a("alert/error",e,{root:!0})}))},logout:function(e){var t=e.commit;jt.logout(),t("logout")}},mutations:{loginRequest:function(e,t){e.status={loggingIn:!0},e.user=t},loginSuccess:function(e,t){e.status={loggedIn:!0},e.user=t},loginFailure:function(e){e.status={},e.user=null},registerFailure:function(e){e.status={},e.user=null},logout:function(e){e.status={},e.user=null}}},ta={namespaced:!0,state:{all:{}},actions:{getAll:function(e){var t=e.commit;t("getAllRequest"),jt.getAll().then((function(e){return t("getAllSuccess",e)}),(function(e){return t("getAllFailure",e)}))}},mutations:{getAllRequest:function(e){e.all={loading:!0}},getAllSuccess:function(e,t){e.all={items:t}},getAllFailure:function(e,t){e.all={error:t}}}},aa=(a("c740"),a("a434"),{namespaced:!0,state:{all:{}},actions:{getAll:function(e){var t=e.commit;t("getAllRequest"),Nt.getAll().then((function(e){return t("getAllSuccess",e)}),(function(e){return t("getAllFailure",e)}))},_delete:function(e,t){var a=e.dispatch,n=e.commit,r=t.id;Nt._delete(r).then((function(e){n("deleteSuccess",e,r),a("alert/success","Guachinche borrado con éxito",{root:!0})}),(function(e){a("alert/error",e,{root:!0})}))},create:function(e,t){var a=e.dispatch,n=e.commit,r=t.name,i=t.location,s=t.hour,o=t.phone,c=t.delivery,l=t.image,u=t.description;n("createRequest",{name:r}),Nt.create(r,i,s,o,c,l,u).then((function(){a("alert/success","Guachinche creado con exito",{root:!0}),setTimeout((function(){Ot.push("/")}),1250)}),(function(e){n("createFailure",e),a("alert/error",e,{root:!0})}))}},mutations:{getAllRequest:function(e){e.all={loading:!0}},getAllSuccess:function(e,t){e.all={items:t}},getAllFailure:function(e,t){e.all={error:t}},createRequest:function(e){e.all={loading:!0}},createSuccess:function(e){e.all={}},createFailure:function(e){e.status={}},deleteSuccess:function(e,t){var a=e.all.items.findIndex((function(e){return e.id===t}));e.all.items.splice(a,1)}}}),na={namespaced:!0,state:{all:{}},actions:{getbyid:function(e,t){var a=e.commit,n=t.id;a("getAllRequest"),Lt.getAllbyID(n).then((function(e){return a("getAllSuccess",e)}),(function(e){return a("getAllFailure",e)}))},_delete:function(e,t){var a=e.dispatch,n=e.commit,r=t.id;Lt._delete(r).then((function(e){n("deleteSuccess",e,r),a("alert/success","reserva borrado con éxito",{root:!0})}),(function(e){a("alert/error",e,{root:!0})}))},create:function(e,t){var a=e.dispatch,n=e.commit,r=t.time,i=t.date,s=t.comensales,o=t.name,c=t.id_usuario,l=t.id_guachinche;Lt.create(r,i,s,o,c,l).then((function(){a("alert/success","Reserva creada con exito",{root:!0})}),(function(e){n("createFailure",e),a("alert/error",e,{root:!0})}))}},mutations:{getAllRequest:function(e){e.all={loading:!0}},getAllSuccess:function(e,t){e.all={items:t}},getAllFailure:function(e,t){e.all={error:t}},createRequest:function(e){e.all={loading:!0}},createSuccess:function(e){e.all={}},createFailure:function(e){e.status={}},deleteSuccess:function(e,t){var a=e.all.items.findIndex((function(e){return e.id===t}));e.all.items.splice(a,1)}}};n["a"].use(j["a"]);var ra=new j["a"].Store({modules:{alert:E,authentication:ea,users:ta,guachinches:aa,reservas:na}}),ia=a("d644"),sa=a("f309");n["a"].use(sa["a"]);var oa=new sa["a"]({});n["a"].config.productionTip=!1,n["a"].use(ia["a"]),new n["a"]({store:ra,vuetify:oa,router:Ot,render:function(e){return e(T)}}).$mount("#app")},"58a4":function(e,t,a){e.exports=a.p+"img/oss.0d3b30d7.jpg"},"5e34":function(e,t,a){},"5ffc":function(e,t,a){"use strict";a("7af9")},"66d7":function(e,t,a){"use strict";a("0a89")},"692c":function(e,t,a){e.exports=a.p+"img/calamares.b3260401.jpg"},"6d08":function(e,t,a){"use strict";a("5e34")},"6e08":function(e,t,a){},"756f":function(e,t,a){e.exports=a.p+"img/filete.5c567e5f.jpg"},"7a01":function(e,t,a){},"7af9":function(e,t,a){},8116:function(e,t,a){"use strict";a("0bf4")},"8b5d":function(e,t,a){},"97e1":function(e,t,a){"use strict";a("2354")},bb72:function(e,t,a){e.exports=a.p+"img/uruguayo.03064e41.jpg"},e6d9:function(e,t,a){"use strict";a("6e08")},e9d2:function(e,t,a){"use strict";a("f528")},f528:function(e,t,a){}});
//# sourceMappingURL=app.2243dabf.js.map